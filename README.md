# Lisp-JS

Lisp-JS is a JavaScript interpreter written entirely in Common Lisp. This project is very much in progress and won't encapsulate all of JavaScript, but it will eventually have much of the language's major functionality (you can think of it like a mini-NodeJS). 

## Finished

### Lexer

The lexer converts a string into a list of tokens that will be used by the parser. The main lexer functionality is contained in src/tokenizer.lisp, although it also uses functions from src/js-convert.lisp.

### Parser

I've implemented a Pratt parser that can successfully parse a great deal of JS code. At this point, the parser may need some refinement down the line, but it's more than good enough to start implementing a nontrivial evaluator.

## TODO

### Evaluator

This piece of the program will evaluate the abstract syntax tree generated by the parser.

### User-Friendly Program

So far, this project is difficult and unintuitive to run. This portion of my project aims to fix that by providing a NodeJS-like program that can run a .js file or act as a command-line environment for JavaScript.

## How to use

This project is formulated as an ASDF-based system (i.e. package) for Common Lisp. In order to run it, you must have SBCL and Quicklisp installed. If so, you can clone this repository into

```
~/.quicklisp/local-projects
```
or any other location that stores Quicklisp systems.

So far, this system doesn't have any external functions, so to run it you can load the system via the included Makefile
```
make load
```
or you can manually load the system in SBCL like so:

```
* (ql:quickload :lisp-js)
* (in-package :lisp-js)
```

After that, you can directly run any of the functions contained within the source files. 

## Development Information

This project is being developed on Ubuntu 20.04.6 LTS.

## Credits

Quicklisp Packages:
- Alexandria
- CL-PPCRE

Pratt Parsers:
- https://matklad.github.io/2020/04/13/simple-but-powerful-pratt-parsing.html
- https://www.youtube.com/watch?v=qyZQPJYvsGw

JavaScript Precedence:
- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_precedence